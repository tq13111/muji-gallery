{"version":3,"sources":["components/logo.svg","components/Header.js","components/Footer.js","components/Loading.js","App.js","index.js","models/index.js","stores/user.js","stores/history.js","stores/image.js","stores/auth.js","stores/index.js"],"names":["Header","styled","header","Logo","img","StyledLink","NavLink","Login","div","StyledButton","Button","Component","observer","history","useHistory","useStore","UserStore","AuthStore","useEffect","pullUser","src","LogoUrl","to","activeClassName","exact","currentUser","attributes","username","type","onClick","logout","push","Footer","footer","Loading","Home","lazy","About","History","Register","App","fallback","path","component","ReactDOM","render","document","getElementById","AV","init","appId","appKey","serverURL","Auth","userName","passWord","user","User","setUsername","setPassword","Promise","resolve","reject","signUp","then","loginUser","error","logIn","loginedUser","logOut","current","Uploader","fileName","file","item","Object","avFile","File","set","save","serverFile","page","limit","query","Query","include","skip","descending","equalTo","find","result","catch","createWithoutData","destroy","makeObservable","this","observable","action","newList","list","concat","append","hasMore","message","reset","console","log","isLoading","isUploading","finally","values","password","resetUser","valueOf","toString","HistoryStore","ImageStore","context","createContext","window","x","useContext"],"mappings":"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","file":"static/js/main.f216a48c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.eed79801.svg\";","import React, {useEffect} from 'react'\r\nimport LogoUrl from './logo.svg'\r\nimport {NavLink, useHistory} from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {Button} from 'antd'\r\nimport useStore from '../stores'\r\nimport {observer} from 'mobx-react'\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 100px;\r\n  background-color: #2b2826;\r\n  color: #c0bfbe;\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height: 30px;\r\n`\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  color: #c0bfbe;\r\n  margin-left: 30px;\r\n  height: 52px;\r\n  line-height: 52px;\r\n  display: inline-block;\r\n\r\n  &.active {\r\n    border-bottom: 4px solid skyblue;\r\n  }\r\n`\r\n\r\nconst Login = styled.div`\r\n  margin-left: auto;\r\n`\r\n\r\nconst StyledButton = styled(Button)`\r\n  margin-left: 24px;\r\n`\r\n\r\n\r\nconst Component = observer(\r\n  () => {\r\n    const history = useHistory()\r\n    const {UserStore, AuthStore} = useStore()\r\n    const handleLogout = () => {\r\n      AuthStore.logout()\r\n    }\r\n    const handleLogin = () => history.push('/login')\r\n    const handleRegister = () => history.push('/register')\r\n    useEffect(() => {\r\n      UserStore.pullUser()\r\n    }, [UserStore])\r\n    return (\r\n      <Header>\r\n        <Logo src={LogoUrl}/>\r\n        <nav>\r\n          <StyledLink to=\"/\" activeClassName=\"active\" exact>首页</StyledLink>\r\n          <StyledLink to=\"/history\" activeClassName=\"active\">上传历史</StyledLink>\r\n          <StyledLink to=\"/about\" activeClassName=\"active\">关于我</StyledLink>\r\n        </nav>\r\n        <Login>\r\n          {\r\n            UserStore.currentUser ?\r\n              <>\r\n                {UserStore.currentUser.attributes.username}\r\n                <StyledButton type=\"primary\" onClick={handleLogout}>注销</StyledButton>\r\n              </> :\r\n              <>\r\n                <StyledButton type=\"primary\" onClick={handleLogin}>登录</StyledButton>\r\n                <StyledButton type=\"primary\" onClick={handleRegister}>注册</StyledButton>\r\n              </>\r\n          }\r\n        </Login>\r\n\r\n      </Header>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Component\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Footer = styled.footer`\r\n  padding: 10px 100px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #aaa;\r\n`;\r\n\r\nfunction Component() {\r\n  return (\r\n    <Footer>\r\n      <p>Footer</p>\r\n    </Footer>\r\n  );\r\n}\r\n\r\nexport default Component;\r\n","import React from 'react';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div>Loading...</div>\r\n  );\r\n}\r\n","import './App.css'\nimport React, {Suspense, lazy} from 'react'\nimport {Switch, Route} from 'react-router-dom'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Loading from './components/Loading'\nimport 'antd/dist/antd.css';\n\nconst Home = lazy(() => import('./view/Home'))\nconst About = lazy(() => import('./view/About'))\nconst History = lazy(() => import('./view/History'))\nconst Login = lazy(() => import('./view/Login'))\nconst Register = lazy(() => import('./view/Register'))\n\nfunction App() {\n  return (\n    <>\n      <Header/>\n      <main>\n        <Suspense fallback={<Loading/>}>\n          <Switch>\n            <Route path='/' exact component={Home}/>\n            <Route path='/history' component={History}/>\n            <Route path='/about' component={About}/>\n            <Route path='/login' component={Login}/>\n            <Route path='/register' component={Register}/>\n          </Switch>\n        </Suspense>\n      </main>\n      <Footer/>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport {HashRouter as Router} from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <>\r\n    <Router>\r\n      <App/>\r\n    </Router>\r\n  </>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n","import AV, {User} from 'leancloud-storage'\r\n\r\nAV.init({\r\n  appId: '9JBQ1SKD20ljqcJtOBbzan57-gzGzoHsz',\r\n  appKey: 'jzuqL3dTJvWP6rqWxQTyP6v5',\r\n  serverURL: 'https://9jbq1skd.lc-cn-n1-shared.com',\r\n})\r\n\r\nconst Auth = {\r\n  register(userName, passWord) {\r\n    const user = new User()\r\n    user.setUsername(userName)\r\n    user.setPassword(passWord)\r\n    return new Promise((resolve, reject) => {\r\n      user.signUp().then(loginUser => resolve(loginUser)\r\n        , (error) => reject(error)\r\n      )\r\n    })\r\n  },\r\n  login(userName, passWord) {\r\n    return new Promise((resolve, reject) => {\r\n      User.logIn(userName, passWord).then(loginedUser => resolve(loginedUser)\r\n        , (error) => reject(error)\r\n      )\r\n    })\r\n  },\r\n  logOut() {\r\n    return User.logOut()\r\n  },\r\n  getCurrentUser() {\r\n    return User.current()\r\n  }\r\n}\r\nconst Uploader = {\r\n  add(fileName, file) {\r\n    const item = new AV.Object('image')\r\n    const avFile = new AV.File(fileName, file)\r\n    item.set('filefile', fileName)\r\n    item.set('owner', AV.User.current())\r\n    item.set('url', avFile)\r\n    return new Promise((resolve, reject) => {\r\n      item.save().then(\r\n        serverFile => resolve(serverFile),\r\n        error => reject(error))\r\n    })\r\n  },\r\n  find({page = 0, limit = 10}) {\r\n    const query = new AV.Query('image')\r\n    query.include('owner')        // 包含属性\r\n    query.limit(limit)                // 显示数量\r\n    query.skip(page * limit)       // 跳过数量\r\n    query.descending('createdAt')          // 降序排列\r\n    query.equalTo('owner', AV.User.current())  // 当前用户\r\n    return new Promise((resolve, reject) => {\r\n      query.find()\r\n        .then(result => resolve(result))\r\n        .catch(error => reject(error))\r\n    })\r\n  },\r\n  remove(file) {\r\n    const item = AV.Object.createWithoutData('image', file)\r\n    return new Promise((resolve, reject) => {\r\n      item.destroy()\r\n        .then(result => resolve(result))\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n}\r\nexport {Auth, Uploader}\r\n","import {observable, action, makeObservable} from 'mobx'\r\nimport {Auth} from '../models/index'\r\n\r\nclass UserStore {\r\n  constructor() {\r\n    makeObservable(this)\r\n  }\r\n\r\n  @observable currentUser = null\r\n\r\n  @action pullUser() {\r\n    this.currentUser = Auth.getCurrentUser()\r\n  }\r\n\r\n  @action resetUser() {\r\n    this.currentUser = null\r\n  }\r\n}\r\n\r\nexport default new UserStore()\r\n\r\n","import {observable, action, makeObservable} from 'mobx'\r\nimport {Uploader} from '../models'\r\nimport {message} from 'antd'\r\n\r\nclass HistoryStore {\r\n  @observable list = []\r\n  @observable page = 0\r\n  @observable limit = 10\r\n  @observable isLoading = false\r\n  @observable hasMore = true\r\n\r\n  constructor() {\r\n    makeObservable(this)\r\n  }\r\n\r\n  @action append(newList) {\r\n    this.list = newList.concat(this.list)\r\n  }\r\n\r\n  @action pullList() {\r\n    Uploader.find({page: this.page, limit: this.limit})\r\n      .then(result => {\r\n        this.page++\r\n        this.append(result)\r\n        this.hasMore = false\r\n      })\r\n      .catch(error => message.error('加载数据失败'))\r\n  }\r\n\r\n  @action remove(file) {\r\n    Uploader.remove(file)\r\n      .then(() => {\r\n        this.reset()\r\n        console.log('删除成功')\r\n      })\r\n      .catch(error => message.error('删除数据失败'))\r\n  }\r\n\r\n  @action reset() {\r\n    this.list = []\r\n    this.page = 0\r\n    this.limit = 10\r\n    this.isLoading = false\r\n    this.hasMore = true\r\n  }\r\n}\r\n\r\nexport default new HistoryStore()\r\n","import {observable, action, makeObservable} from 'mobx'\r\nimport {Uploader} from '../models/index'\r\nimport {message} from 'antd'\r\n\r\nclass ImageStore {\r\n  constructor() {\r\n    makeObservable(this)\r\n  }\r\n\r\n  @observable fileName = ''\r\n  @observable file = null\r\n  @observable isUploading = false\r\n  @observable serverFile = null\r\n\r\n  @action setFileName(fileName) {\r\n    this.fileName = fileName\r\n  }\r\n\r\n  @action setFile(file) {\r\n    this.file = file\r\n  }\r\n\r\n  @action upload() {\r\n    this.isUploading = true\r\n    return new Promise((resolve, reject) =>\r\n      Uploader.add(this.fileName, this.file)\r\n        .then(serverFile => {\r\n          this.serverFile = serverFile\r\n          resolve(serverFile)\r\n        })\r\n        .catch(error => {\r\n          message.error('上传失败')\r\n          reject(error)\r\n        })\r\n        .finally(() => this.isUploading = false)\r\n    )\r\n  }\r\n\r\n  @action reset() {\r\n    this.isUploading = false\r\n    this.serverFile = null\r\n  }\r\n}\r\n\r\nexport default new ImageStore()\r\n","import {observable, action, makeObservable} from 'mobx'\r\nimport {Auth} from '../models/index'\r\nimport User from './user'\r\nimport {message} from 'antd'\r\nimport HistoryStore from './history'\r\nimport ImageStore from './image'\r\nimport UserStore from './user'\r\n\r\n\r\nclass AuthStore {\r\n  constructor() {\r\n    makeObservable(this)\r\n  }\r\n\r\n  @observable values = {\r\n    username: '',\r\n    password: ''\r\n  }\r\n\r\n  @action setUsername(username) {\r\n    this.values.username = username\r\n  }\r\n\r\n  @action setPassword(password) {\r\n    this.values.password = password\r\n  }\r\n\r\n  @action login() {\r\n    return new Promise((resolve, reject) => {\r\n      Auth.login(this.values.username, this.values.password)\r\n        .then(user => {\r\n          User.pullUser()\r\n          resolve(user)\r\n        })\r\n        .catch(error => {\r\n          User.resetUser()\r\n          message.error('登陆失败')\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  @action register() {\r\n    return new Promise((resolve, reject) => {\r\n      Auth.register(this.values.username, this.values.password)\r\n        .then(user => {\r\n          UserStore.pullUser()\r\n          console.log('注册成功')\r\n          resolve(user)\r\n        })\r\n        .catch(error => {\r\n          console.log(typeof error.valueOf(), error.toString())\r\n          if (error.toString() === 'Error: Username has already been taken. [400 POST https://9jbq1skd.lc-cn-n1-shared.com/1.1/users]') {\r\n            message.error('该用户名已被注册,请重试')\r\n          } else {\r\n            message.error('注册失败')\r\n          }\r\n          UserStore.resetUser()\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  @action logout() {\r\n    User.resetUser()\r\n    HistoryStore.reset()\r\n    ImageStore.reset()\r\n    return Auth.logOut()\r\n\r\n  }\r\n}\r\n\r\nexport default new AuthStore()\r\n","import AuthStore from './auth'\r\nimport UserStore from './user'\r\nimport ImageStore from './image'\r\nimport HistoryStore from './history'\r\nimport {createContext, useContext} from 'react'\r\n\r\nconst context = createContext({\r\n  AuthStore, UserStore, ImageStore, HistoryStore\r\n})\r\nwindow.x = {ImageStore, UserStore, HistoryStore}\r\nconst useStore = () => useContext(context)\r\nexport default useStore\r\n"],"sourceRoot":""}